var ie=Object.defineProperty;var le=(s,t,a)=>t in s?ie(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a;var L=(s,t,a)=>le(s,typeof t!="symbol"?t+"":t,a);import{r as m,a as ce,b as F}from"./vendor-Gm9i_4Ku.js";import{B as oe}from"./router-CxV1K3nC.js";import{f as P,i as R,a as de,b as me}from"./utils-CsonoGMZ.js";import{M as V,P as X,L as xe,E as ue,a as G,X as U,D as M,C as he,H as pe,b as Q,c as ge,W as fe,d as ee,e as z,T as J,U as _,f as ye,S as be,g as je,h as we,i as Ne,j as ve,k as Se,l as Ae}from"./icons-Bmpl3xIO.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const r of c)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function a(c){const r={};return c.integrity&&(r.integrity=c.integrity),c.referrerPolicy&&(r.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?r.credentials="include":c.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(c){if(c.ep)return;c.ep=!0;const r=a(c);fetch(c.href,r)}})();var te={exports:{}},q={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ke=m,Pe=Symbol.for("react.element"),Ce=Symbol.for("react.fragment"),De=Object.prototype.hasOwnProperty,Be=ke.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ee={key:!0,ref:!0,__self:!0,__source:!0};function se(s,t,a){var i,c={},r=null,n=null;a!==void 0&&(r=""+a),t.key!==void 0&&(r=""+t.key),t.ref!==void 0&&(n=t.ref);for(i in t)De.call(t,i)&&!Ee.hasOwnProperty(i)&&(c[i]=t[i]);if(s&&s.defaultProps)for(i in t=s.defaultProps,t)c[i]===void 0&&(c[i]=t[i]);return{$$typeof:Pe,type:s,key:r,ref:n,props:c,_owner:Be.current}}q.Fragment=Ce;q.jsx=se;q.jsxs=se;te.exports=q;var e=te.exports,H={},Z=ce;H.createRoot=Z.createRoot,H.hydrateRoot=Z.hydrateRoot;class Oe{constructor(){L(this,"dbName","LuckyPickDB");L(this,"version",1);L(this,"db",null)}async init(){return new Promise((t,a)=>{const i=indexedDB.open(this.dbName,this.version);i.onerror=()=>a(i.error),i.onsuccess=()=>{this.db=i.result,t()},i.onupgradeneeded=c=>{const r=c.target.result;r.objectStoreNames.contains("sessions")||r.createObjectStore("sessions",{keyPath:"id"}),r.objectStoreNames.contains("bets")||r.createObjectStore("bets",{keyPath:"id"}),r.objectStoreNames.contains("results")||r.createObjectStore("results",{keyPath:"id"}),r.objectStoreNames.contains("transactions")||r.createObjectStore("transactions",{keyPath:"id"}),r.objectStoreNames.contains("user")||r.createObjectStore("user",{keyPath:"id"}),r.objectStoreNames.contains("offlineActions")||r.createObjectStore("offlineActions",{keyPath:"id",autoIncrement:!0})}})}async saveData(t,a){return this.db||await this.init(),new Promise((i,c)=>{const x=this.db.transaction([t],"readwrite").objectStore(t).put(a);x.onerror=()=>c(x.error),x.onsuccess=()=>i()})}async getData(t,a){return this.db||await this.init(),new Promise((i,c)=>{const n=this.db.transaction([t],"readonly").objectStore(t),x=a?n.get(a):n.getAll();x.onerror=()=>c(x.error),x.onsuccess=()=>i(x.result)})}async saveOfflineAction(t){const a={...t,timestamp:new Date().toISOString(),synced:!1};await this.saveData("offlineActions",a)}async getOfflineActions(){return(await this.getData("offlineActions")).filter(a=>!a.synced)}async markActionSynced(t){return this.db||await this.init(),new Promise((a,i)=>{const r=this.db.transaction(["offlineActions"],"readwrite").objectStore("offlineActions"),n=r.get(t);n.onsuccess=()=>{const x=n.result;if(x){x.synced=!0;const o=r.put(x);o.onsuccess=()=>a(),o.onerror=()=>i(o.error)}else a()},n.onerror=()=>i(n.error)})}}const A=new Oe,Y=()=>{const[s,t]=m.useState(navigator.onLine),[a,i]=m.useState(!1);return m.useEffect(()=>{const c=()=>{t(!0),a&&("serviceWorker"in navigator&&"sync"in window.ServiceWorkerRegistration.prototype&&navigator.serviceWorker.ready.then(n=>n.sync.register("background-sync")),i(!1))},r=()=>{t(!1),i(!0)};return window.addEventListener("online",c),window.addEventListener("offline",r),()=>{window.removeEventListener("online",c),window.removeEventListener("offline",r)}},[a]),{isOnline:s,wasOffline:a}},ae=m.createContext(void 0),I=()=>{const s=m.useContext(ae);if(!s)throw new Error("useAuth must be used within an AuthProvider");return s},Te=({children:s})=>{const[t,a]=m.useState(null),{isOnline:i}=Y();m.useEffect(()=>{(async()=>{try{const o=localStorage.getItem("user");if(o){const h=JSON.parse(o);a(h),await A.saveData("user",h)}else if(!i){const h=await A.getData("user","user1");h&&a(h)}}catch(o){console.error("Failed to load user data:",o)}})()},[i]);const c=async(x,o)=>{if(x==="test@gmail.com"&&o==="12345677"){const h={id:"user1",email:x,isAdmin:!1,walletBalance:1e3,createdAt:new Date};return a(h),localStorage.setItem("user",JSON.stringify(h)),await A.saveData("user",h),!0}else if(x==="Admin@admin.com"&&o==="9794478972"){const h={id:"admin1",email:x,isAdmin:!0,walletBalance:0,createdAt:new Date};return a(h),localStorage.setItem("user",JSON.stringify(h)),await A.saveData("user",h),!0}return!1},r=()=>{a(null),localStorage.removeItem("user")},n=x=>{if(t){const o={...t,walletBalance:t.walletBalance+x};a(o),localStorage.setItem("user",JSON.stringify(o)),A.saveData("user",o),i||A.saveOfflineAction({type:"updateWallet",data:{userId:t.id,amount:x}})}};return e.jsx(ae.Provider,{value:{user:t,login:c,logout:r,updateWallet:n},children:s})},re=m.createContext(void 0),O=()=>{const s=m.useContext(re);if(!s)throw new Error("useApp must be used within an AppProvider");return s},Ie=({children:s})=>{const[t,a]=m.useState([]),[i,c]=m.useState([]),[r,n]=m.useState([]),[x,o]=m.useState([]),[h,N]=m.useState([]),{isOnline:j}=Y();m.useEffect(()=>{(async()=>{try{if(await A.init(),!j){const f=await A.getData("sessions"),w=await A.getData("bets"),v=await A.getData("results"),k=await A.getData("transactions");f!=null&&f.length&&a(f),w!=null&&w.length&&c(w),v!=null&&v.length&&n(v),k!=null&&k.length&&o(k)}}catch(f){console.error("Failed to initialize offline storage:",f)}})()},[j]),m.useEffect(()=>{if(t.length===0){const d=P(new Date,"yyyy-MM-dd"),f=[{id:"session-1330",time:"13:30",date:d,isActive:!0,betsCloseAt:"13:25",totalPool:0,createdBy:"system"},{id:"session-1830",time:"18:30",date:d,isActive:!0,betsCloseAt:"18:25",totalPool:0,createdBy:"system"}];a(f),f.forEach(w=>{A.saveData("sessions",w)})}},[t.length]),m.useEffect(()=>{t.forEach(d=>{A.saveData("sessions",d)})},[t]),m.useEffect(()=>{i.forEach(d=>{A.saveData("bets",d)})},[i]),m.useEffect(()=>{r.forEach(d=>{A.saveData("results",d)})},[r]),m.useEffect(()=>{x.forEach(d=>{A.saveData("transactions",d)})},[x]);const y=(d,f)=>{const w=P(new Date,"yyyy-MM-dd"),v=P(de(new Date(`${w}T${d}:00`),-5),"HH:mm"),k={id:`session-${Date.now()}`,name:f,time:d,date:w,isActive:!0,betsCloseAt:v,totalPool:0,createdBy:"admin"};a(D=>[...D,k]),j||A.saveOfflineAction({type:"createSession",data:k})},g=(d,f,w,v)=>{const k=t.find(B=>B.id===d);if(!k)return!1;const D=new Date,E=P(D,"yyyy-MM-dd"),W=new Date(`${E}T${k.betsCloseAt}:00`);if(R(D,W))return!1;const T={id:`bet-${Date.now()}`,userId:v,sessionId:d,number:f,amount:w,timestamp:D};return c(B=>[...B,T]),a(B=>B.map(C=>C.id===d?{...C,totalPool:C.totalPool+w}:C)),j||A.saveOfflineAction({type:"placeBet",data:T}),!0},p=d=>{const f=i.filter(S=>S.sessionId===d),w=t.find(S=>S.id===d);if(!w||f.length===0)return;const v={};for(let S=0;S<=9;S++)v[S]=0;f.forEach(S=>{v[S.number]+=S.amount});let k=0,D=v[0];for(let S=1;S<=9;S++)v[S]<D&&(k=S,D=v[S]);const E=w.totalPool,W=D===0&&E>0;let T,B,C;if(W)T=E,B=0,C=0;else{T=E*.1;const S=E*.9;C=f.filter(ne=>ne.number===k).length,B=C>0?S/C:0}const K={id:`result-${Date.now()}`,sessionId:d,winningNumber:k,totalPool:E,adminFee:T,winnerCount:C,winnerPayout:B,timestamp:new Date,isZeroBetWin:W};n(S=>[...S,K]),a(S=>S.map($=>$.id===d?{...$,isActive:!1}:$)),j||A.saveOfflineAction({type:"processJackpot",data:{sessionId:d,result:K}})},l=d=>{const f={...d,id:`txn-${Date.now()}`};o(w=>[...w,f]),j||A.saveOfflineAction({type:"addTransaction",data:f})},b=(d,f)=>{const w={id:`withdrawal-${Date.now()}`,userId:d,amount:f,status:"pending",requestedAt:new Date};N(v=>[...v,w]),j||A.saveOfflineAction({type:"requestWithdrawal",data:w})},u=(d,f)=>{N(w=>w.map(v=>v.id===d?{...v,status:f,processedAt:new Date,processedBy:"admin"}:v)),j||A.saveOfflineAction({type:"processWithdrawal",data:{id:d,status:f}})};return e.jsx(re.Provider,{value:{sessions:t,bets:i,results:r,transactions:x,withdrawals:h,createSession:y,placeBet:g,processJackpot:p,addTransaction:l,requestWithdrawal:b,processWithdrawal:u},children:s})},Me=()=>{const[s,t]=m.useState("email"),[a,i]=m.useState(""),[c,r]=m.useState(""),[n,x]=m.useState(""),[o,h]=m.useState(!1),[N,j]=m.useState(""),[y,g]=m.useState(!1),{login:p}=I(),l=async b=>{b.preventDefault(),j(""),g(!0);try{await p(a,n)||j("Invalid credentials")}catch{j("Login failed")}finally{g(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"LuckyPick"}),e.jsx("p",{className:"text-gray-600",children:"Daily Number Lottery"})]}),e.jsxs("div",{className:"flex mb-6 bg-gray-100 rounded-lg p-1",children:[e.jsxs("button",{type:"button",onClick:()=>t("email"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${s==="email"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:[e.jsx(V,{className:"w-4 h-4 inline mr-2"}),"Email"]}),e.jsxs("button",{type:"button",onClick:()=>t("phone"),className:`flex-1 py-2 px-4 rounded-md text-sm font-medium transition-colors ${s==="phone"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:[e.jsx(X,{className:"w-4 h-4 inline mr-2"}),"Phone"]})]}),e.jsxs("form",{onSubmit:l,className:"space-y-4",children:[s==="email"?e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(V,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"email",value:a,onChange:b=>i(b.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email",required:!0})]})]}):e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(X,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"tel",value:c,onChange:b=>r(b.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your phone number",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(xe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:o?"text":"password",value:n,onChange:b=>x(b.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your password",required:!0}),e.jsx("button",{type:"button",onClick:()=>h(!o),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:o?e.jsx(ue,{className:"w-5 h-5"}):e.jsx(G,{className:"w-5 h-5"})})]})]}),N&&e.jsx("div",{className:"text-red-600 text-sm text-center",children:N}),e.jsx("button",{type:"submit",disabled:y,className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:y?"Signing In...":"Sign In"})]}),e.jsxs("div",{className:"mt-8 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h3",{className:"font-medium text-gray-800 mb-2",children:"Demo Accounts:"}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"User:"})," test@gmail.com / 12345677"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Admin:"})," Admin@admin.com / 9794478972"]})]})]})]})})},We=({sessionId:s,onClose:t})=>{const{user:a,updateWallet:i}=I(),{sessions:c,placeBet:r,addTransaction:n}=O(),[x,o]=m.useState(null),[h,N]=m.useState(""),[j,y]=m.useState(""),g=c.find(l=>l.id===s),p=()=>{if(x===null){y("Please select a number");return}const l=parseFloat(h);if(isNaN(l)||l<1){y("Minimum bet amount is ₹1");return}if(!a||l>a.walletBalance){y("Insufficient wallet balance");return}r(s,x,l,a.id)?(i(-l),n({userId:a.id,type:"bet",amount:-l,status:"completed",timestamp:new Date,description:`Bet on number ${x} for session ${g==null?void 0:g.time}`}),t()):y("Failed to place bet. Betting may be closed.")};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Place Your Bet"}),e.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(U,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:(g==null?void 0:g.name)||`Session ${g==null?void 0:g.time}`}),e.jsx("p",{className:"text-gray-600",children:"Choose a number from 0-9"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Select Number"}),e.jsx("div",{className:"grid grid-cols-5 gap-2",children:[0,1,2,3,4,5,6,7,8,9].map(l=>e.jsx("button",{onClick:()=>o(l),className:`h-12 rounded-lg font-semibold transition-colors ${x===l?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:l},l))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bet Amount (₹)"}),e.jsxs("div",{className:"relative",children:[e.jsx(M,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"number",value:h,onChange:l=>N(l.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter amount (min ₹1)",min:"1",step:"1"})]}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:["Wallet Balance: ₹",a==null?void 0:a.walletBalance]})]}),j&&e.jsx("div",{className:"mb-4 text-red-600 text-sm",children:j}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:t,className:"flex-1 py-3 px-4 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:p,className:"flex-1 py-3 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Place Bet"})]})]})]})})},$e=({onClose:s})=>{const{user:t,updateWallet:a}=I(),{transactions:i,addTransaction:c,requestWithdrawal:r}=O(),[n,x]=m.useState("balance"),[o,h]=m.useState(""),[N,j]=m.useState(""),[y,g]=m.useState(""),p=i.filter(u=>u.userId===(t==null?void 0:t.id)),l=()=>{const u=parseFloat(o);if(isNaN(u)||u<10){g("Minimum deposit amount is ₹10");return}t&&(a(u),c({userId:t.id,type:"deposit",amount:u,status:"completed",timestamp:new Date,description:"Wallet deposit via UPI"}),h(""),g(""))},b=()=>{const u=parseFloat(N);if(isNaN(u)||u<50){g("Minimum withdrawal amount is ₹50");return}if(!t||u>t.walletBalance){g("Insufficient balance");return}r(t.id,u),c({userId:t.id,type:"withdrawal",amount:-u,status:"pending",timestamp:new Date,description:`Withdrawal request for ₹${u}`}),j(""),g("")};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-hidden",children:[e.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"My Wallet"}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(U,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"flex border-b",children:[e.jsxs("button",{onClick:()=>x("balance"),className:`flex-1 py-3 px-4 text-center font-medium transition-colors ${n==="balance"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"}`,children:[e.jsx(he,{className:"w-4 h-4 inline mr-2"}),"Balance"]}),e.jsxs("button",{onClick:()=>x("history"),className:`flex-1 py-3 px-4 text-center font-medium transition-colors ${n==="history"?"text-blue-600 border-b-2 border-blue-600":"text-gray-600 hover:text-gray-800"}`,children:[e.jsx(pe,{className:"w-4 h-4 inline mr-2"}),"History"]})]}),e.jsxs("div",{className:"p-6 overflow-y-auto max-h-[60vh]",children:[n==="balance"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["₹",t==null?void 0:t.walletBalance]}),e.jsx("p",{className:"text-gray-600",children:"Current Balance"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold text-green-800 mb-3 flex items-center",children:[e.jsx(Q,{className:"w-4 h-4 mr-2"}),"Add Funds"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"number",value:o,onChange:u=>h(u.target.value),className:"w-full px-3 py-2 border border-green-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent",placeholder:"Amount (min ₹10)",min:"10"}),e.jsx("button",{onClick:l,className:"w-full bg-green-600 text-white py-2 rounded-lg hover:bg-green-700 transition-colors",children:"Add via UPI"})]})]}),e.jsxs("div",{className:"bg-red-50 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold text-red-800 mb-3 flex items-center",children:[e.jsx(ge,{className:"w-4 h-4 mr-2"}),"Withdraw Funds"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"number",value:N,onChange:u=>j(u.target.value),className:"w-full px-3 py-2 border border-red-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"Amount (min ₹50)",min:"50"}),e.jsx("button",{onClick:b,className:"w-full bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 transition-colors",children:"Request Withdrawal"}),e.jsx("p",{className:"text-xs text-red-600",children:"Requires admin approval"})]})]})]}),y&&e.jsx("div",{className:"text-red-600 text-sm text-center",children:y})]}),n==="history"&&e.jsx("div",{className:"space-y-4",children:p.length===0?e.jsx("p",{className:"text-gray-500 text-center",children:"No transactions yet"}):p.slice().reverse().map(u=>e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:u.description}),e.jsx("p",{className:"text-sm text-gray-600",children:P(u.timestamp,"MMM dd, yyyy HH:mm")})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:`font-semibold ${u.amount>0?"text-green-600":"text-red-600"}`,children:[u.amount>0?"+":"","₹",Math.abs(u.amount)]}),e.jsx("p",{className:`text-xs ${u.status==="completed"?"text-green-600":u.status==="pending"?"text-yellow-600":"text-red-600"}`,children:u.status})]})]},u.id))})]})]})})},Le=()=>{const{user:s,logout:t}=I(),{sessions:a,results:i,bets:c}=O(),[r,n]=m.useState(null),[x,o]=m.useState(!1),[h,N]=m.useState(new Date);m.useEffect(()=>{const p=setInterval(()=>{N(new Date)},1e3);return()=>clearInterval(p)},[]);const j=(p,l)=>{const b=P(new Date,"yyyy-MM-dd"),u=new Date(`${b}T${l}:00`),d=new Date(`${b}T${p}:00`);if(R(h,d))return"Session Ended";if(R(h,u))return"Betting Closed";const f=u.getTime()-h.getTime(),w=Math.floor(f/6e4),v=Math.floor(f%6e4/1e3);return`${w}:${v.toString().padStart(2,"0")}`},y=p=>{const l=P(new Date,"yyyy-MM-dd"),b=new Date(`${l}T${p}:00`);return me(h,b)},g=p=>c.filter(l=>l.sessionId===p&&l.userId===(s==null?void 0:s.id));return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"LuckyPick"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Welcome, ",s==null?void 0:s.email]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("button",{onClick:()=>o(!0),className:"flex items-center space-x-2 bg-green-100 text-green-800 px-4 py-2 rounded-lg hover:bg-green-200 transition-colors",children:[e.jsx(fe,{className:"w-4 h-4"}),e.jsxs("span",{children:["₹",s==null?void 0:s.walletBalance]})]}),e.jsxs("button",{onClick:t,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors",children:[e.jsx(ee,{className:"w-4 h-4"}),e.jsx("span",{children:"Logout"})]})]})]})})}),e.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Active Sessions"}),e.jsx("div",{className:"space-y-4",children:a.filter(p=>p.isActive).map(p=>{const l=j(p.time,p.betsCloseAt),b=y(p.betsCloseAt),u=g(p.id),d=u.reduce((f,w)=>f+w.amount,0);return e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:p.name||`Session ${p.time}`}),e.jsxs("p",{className:"text-gray-600",children:["Time: ",p.time]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Betting closes at ",p.betsCloseAt]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"flex items-center text-blue-600 mb-2",children:[e.jsx(z,{className:"w-4 h-4 mr-1"}),e.jsx("span",{className:"font-mono",children:l})]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Pool: ₹",p.totalPool]})]})]}),u.length>0&&e.jsxs("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:[e.jsxs("p",{className:"text-sm text-blue-800",children:["Your bets: ",u.map(f=>`${f.number} (₹${f.amount})`).join(", ")]}),e.jsxs("p",{className:"text-sm text-blue-600",children:["Total: ₹",d]})]}),e.jsx("button",{onClick:()=>n(p.id),disabled:!b,className:`w-full py-2 px-4 rounded-lg font-medium transition-colors ${b?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:b?"Place Bet":"Betting Closed"})]},p.id)})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Previous Results"}),e.jsx("div",{className:"space-y-4",children:i.slice(-5).reverse().map(p=>{const l=a.find(d=>d.id===p.sessionId),u=c.filter(d=>d.sessionId===p.sessionId&&d.userId===(s==null?void 0:s.id)&&d.number===p.winningNumber).length>0;return e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:(l==null?void 0:l.name)||`Session ${l==null?void 0:l.time}`}),e.jsx("p",{className:"text-sm text-gray-600",children:P(p.timestamp,"MMM dd, HH:mm")})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:"flex items-center text-yellow-600",children:[e.jsx(J,{className:"w-4 h-4 mr-1"}),e.jsx("span",{className:"font-bold text-lg",children:p.winningNumber})]})})]}),e.jsxs("div",{className:"text-sm text-gray-600",children:[e.jsxs("p",{children:["Pool: ₹",p.totalPool]}),e.jsxs("p",{children:["Winners: ",p.winnerCount]}),u&&e.jsxs("p",{className:"text-green-600 font-medium",children:["You won: ₹",p.winnerPayout]})]})]},p.id)})})]})]})}),r&&e.jsx(We,{sessionId:r,onClose:()=>n(null)}),x&&e.jsx($e,{onClose:()=>o(!1)})]})},Re=()=>{const{sessions:s,bets:t,createSession:a,processJackpot:i}=O(),[c,r]=m.useState(!1),[n,x]=m.useState(""),[o,h]=m.useState(""),[N,j]=m.useState(new Date);m.useEffect(()=>{const l=setInterval(()=>{j(new Date),s.forEach(b=>{if(b.isActive){const u=P(new Date,"yyyy-MM-dd"),d=new Date(`${u}T${b.time}:00`);R(N,d)&&i(b.id)}})},1e3);return()=>clearInterval(l)},[s,i,N]);const y=()=>{n&&(a(n,o||void 0),x(""),h(""),r(!1))},g=l=>t.filter(b=>b.sessionId===l),p=l=>{const b=g(l),u={};for(let d=0;d<=9;d++)u[d]=0;return b.forEach(d=>{u[d.number]+=d.amount}),u};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Session Management"}),e.jsxs("button",{onClick:()=>r(!0),className:"flex items-center space-x-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[e.jsx(Q,{className:"w-4 h-4"}),e.jsx("span",{children:"Create Session"})]})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:s.map(l=>{const b=g(l.id),u=p(l.id),d=new Set(b.map(f=>f.userId)).size;return e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:l.name||`Session ${l.time}`}),e.jsxs("p",{className:"text-gray-600",children:["Time: ",l.time]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Created by: ",l.createdBy]})]}),e.jsx("div",{className:"text-right",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${l.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:l.isActive?"Active":"Completed"})})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center text-blue-600 mb-1",children:e.jsx(M,{className:"w-4 h-4 mr-1"})}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total Pool"}),e.jsxs("p",{className:"font-semibold",children:["₹",l.totalPool]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center text-green-600 mb-1",children:e.jsx(_,{className:"w-4 h-4 mr-1"})}),e.jsx("p",{className:"text-sm text-gray-600",children:"Bettors"}),e.jsx("p",{className:"font-semibold",children:d})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center text-purple-600 mb-1",children:e.jsx(J,{className:"w-4 h-4 mr-1"})}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total Bets"}),e.jsx("p",{className:"font-semibold",children:b.length})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Bets by Number"}),e.jsx("div",{className:"grid grid-cols-5 gap-2",children:Object.entries(u).map(([f,w])=>e.jsxs("div",{className:"text-center p-2 bg-gray-50 rounded",children:[e.jsx("div",{className:"font-semibold text-gray-900",children:f}),e.jsxs("div",{className:"text-xs text-gray-600",children:["₹",w]})]},f))})]})]},l.id)})}),c&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:e.jsx("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Create New Session"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Time *"}),e.jsx("input",{type:"time",value:n,onChange:l=>x(l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Session Name (Optional)"}),e.jsx("input",{type:"text",value:o,onChange:l=>h(l.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Evening Special"})]})]}),e.jsxs("div",{className:"flex space-x-3 mt-6",children:[e.jsx("button",{onClick:()=>r(!1),className:"flex-1 py-2 px-4 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:y,className:"flex-1 py-2 px-4 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Create Session"})]})]})})})]})},Ue=()=>{const{withdrawals:s,processWithdrawal:t}=O(),a=s.filter(n=>n.status==="pending"),i=s.filter(n=>n.status!=="pending"),c=n=>{t(n,"approved")},r=n=>{t(n,"rejected")};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Withdrawal Management"}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[e.jsx(z,{className:"w-5 h-5 mr-2 text-yellow-600"}),"Pending Withdrawals (",a.length,")"]})}),a.length===0?e.jsx("div",{className:"p-6 text-center text-gray-500",children:"No pending withdrawal requests"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Requested At"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(n=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:n.userId}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["₹",n.amount]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P(n.requestedAt,"MMM dd, yyyy HH:mm")}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[e.jsxs("button",{onClick:()=>c(n.id),className:"inline-flex items-center px-3 py-1 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:[e.jsx(ye,{className:"w-4 h-4 mr-1"}),"Approve"]}),e.jsxs("button",{onClick:()=>r(n.id),className:"inline-flex items-center px-3 py-1 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:[e.jsx(U,{className:"w-4 h-4 mr-1"}),"Reject"]})]})]},n.id))})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md",children:[e.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:e.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Processed Withdrawals (",i.length,")"]})}),i.length===0?e.jsx("div",{className:"p-6 text-center text-gray-500",children:"No processed withdrawals yet"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User ID"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Requested At"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Processed At"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.slice().reverse().map(n=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:n.userId}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:["₹",n.amount]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${n.status==="approved"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:n.status})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P(n.requestedAt,"MMM dd, yyyy HH:mm")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:n.processedAt&&P(n.processedAt,"MMM dd, yyyy HH:mm")})]},n.id))})]})})]})]})},qe=()=>{const{bets:s,transactions:t}=O(),[a,i]=m.useState(""),c=[{id:"user1",email:"test@gmail.com",phone:"+91 9876543210",walletBalance:1e3,isAdmin:!1,createdAt:new Date("2024-01-15")}],r=o=>s.filter(h=>h.userId===o),n=o=>t.filter(h=>h.userId===o),x=c.filter(o=>{var h;return o.email.toLowerCase().includes(a.toLowerCase())||((h=o.phone)==null?void 0:h.includes(a))});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"User Management"}),e.jsxs("div",{className:"relative",children:[e.jsx(be,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",value:a,onChange:o=>i(o.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Search users..."})]})]}),e.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Wallet Balance"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Bets"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Transactions"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:x.map(o=>{const h=r(o.id),N=n(o.id),j=h.reduce((y,g)=>y+g.amount,0);return e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:o.email}),e.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",o.id]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:o.phone||"N/A"}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center text-sm font-medium text-green-600",children:[e.jsx(M,{className:"w-4 h-4 mr-1"}),"₹",o.walletBalance]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.jsxs("div",{children:[e.jsxs("div",{children:[h.length," bets"]}),e.jsxs("div",{className:"text-xs text-gray-500",children:["₹",j," total"]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:N.length}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium space-x-2",children:[e.jsxs("button",{className:"text-blue-600 hover:text-blue-900 inline-flex items-center",children:[e.jsx(G,{className:"w-4 h-4 mr-1"}),"View"]}),e.jsxs("button",{className:"text-indigo-600 hover:text-indigo-900 inline-flex items-center",children:[e.jsx(je,{className:"w-4 h-4 mr-1"}),"Edit"]})]})]},o.id)})})]})})}),x.length===0&&e.jsx("div",{className:"text-center py-8 text-gray-500",children:"No users found matching your search."})]})},Fe=()=>{const{logout:s}=I(),{sessions:t,bets:a,results:i,withdrawals:c}=O(),[r,n]=m.useState("overview"),x=t.reduce((y,g)=>y+g.totalPool,0),o=a.length,h=c.filter(y=>y.status==="pending").length,N=i.reduce((y,g)=>y+g.adminFee,0),j=[{id:"overview",label:"Overview",icon:we},{id:"sessions",label:"Sessions",icon:Ne},{id:"withdrawals",label:"Withdrawals",icon:M},{id:"users",label:"Users",icon:_}];return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Admin Panel"}),e.jsx("p",{className:"text-sm text-gray-600",children:"LuckyPick Lottery Management"})]}),e.jsxs("button",{onClick:s,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors",children:[e.jsx(ee,{className:"w-4 h-4"}),e.jsx("span",{children:"Logout"})]})]})})}),e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"flex space-x-8",children:[e.jsx("div",{className:"w-64 bg-white rounded-lg shadow-md p-4",children:e.jsx("nav",{className:"space-y-2",children:j.map(y=>{const g=y.icon;return e.jsxs("button",{onClick:()=>n(y.id),className:`w-full flex items-center space-x-3 px-3 py-2 rounded-lg text-left transition-colors ${r===y.id?"bg-blue-100 text-blue-700":"text-gray-600 hover:bg-gray-100"}`,children:[e.jsx(g,{className:"w-5 h-5"}),e.jsx("span",{children:y.label})]},y.id)})})}),e.jsxs("div",{className:"flex-1",children:[r==="overview"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Dashboard Overview"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(M,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Pool"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["₹",x]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(J,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Admin Earnings"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["₹",N]})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(z,{className:"w-6 h-6 text-purple-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Bets"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:o})]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-md p-6",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:e.jsx(_,{className:"w-6 h-6 text-yellow-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Withdrawals"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:h})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Recent Results"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Session"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Winning Number"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Pool"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Admin Fee"}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Winners"})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.slice(-5).reverse().map(y=>{const g=t.find(p=>p.id===y.sessionId);return e.jsxs("tr",{children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(g==null?void 0:g.name)||(g==null?void 0:g.time)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:y.winningNumber})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:["₹",y.totalPool]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-green-600",children:["₹",y.adminFee]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:y.winnerCount})]},y.id)})})]})})]})]}),r==="sessions"&&e.jsx(Re,{}),r==="withdrawals"&&e.jsx(Ue,{}),r==="users"&&e.jsx(qe,{})]})]})})]})},_e=()=>{const[s,t]=m.useState(null),[a,i]=m.useState(!1),[c,r]=m.useState(!1);return m.useEffect(()=>{const x=window.matchMedia("(display-mode: standalone)").matches,o=window.navigator.standalone===!0;r(x||o);const h=j=>{j.preventDefault(),t(j),i(!0)},N=()=>{r(!0),i(!1),t(null)};return window.addEventListener("beforeinstallprompt",h),window.addEventListener("appinstalled",N),()=>{window.removeEventListener("beforeinstallprompt",h),window.removeEventListener("appinstalled",N)}},[]),{isInstallable:a,isInstalled:c,installApp:async()=>{if(!s)return;s.prompt();const{outcome:x}=await s.userChoice;x==="accepted"&&(t(null),i(!1))}}},He=()=>{const{isInstallable:s,installApp:t}=_e(),[a,i]=F.useState(!1);return F.useEffect(()=>{if(s){const c=setTimeout(()=>{i(!0)},3e3);return()=>clearTimeout(c)}},[s]),!s||!a?null:e.jsx("div",{className:"fixed bottom-4 left-4 right-4 bg-blue-600 text-white p-4 rounded-lg shadow-lg z-50 md:left-auto md:right-4 md:max-w-sm",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(ve,{className:"w-6 h-6"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-sm",children:"Install LuckyPick"}),e.jsx("p",{className:"text-xs text-blue-100 mt-1",children:"Add to your home screen for quick access and offline use"}),e.jsxs("div",{className:"flex space-x-2 mt-3",children:[e.jsx("button",{onClick:t,className:"bg-white text-blue-600 px-3 py-1 rounded text-xs font-medium hover:bg-blue-50 transition-colors",children:"Install"}),e.jsx("button",{onClick:()=>i(!1),className:"text-blue-100 px-3 py-1 rounded text-xs hover:text-white transition-colors",children:"Later"})]})]}),e.jsx("button",{onClick:()=>i(!1),className:"flex-shrink-0 text-blue-200 hover:text-white transition-colors",children:e.jsx(U,{className:"w-4 h-4"})})]})})},ze=()=>{const{isOnline:s,wasOffline:t}=Y();return s&&!t?null:e.jsx("div",{className:`fixed top-0 left-0 right-0 z-50 p-2 text-center text-sm font-medium transition-colors ${s?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:e.jsx("div",{className:"flex items-center justify-center space-x-2",children:s?e.jsxs(e.Fragment,{children:[e.jsx(Se,{className:"w-4 h-4"}),e.jsx("span",{children:"Back online - syncing data..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ae,{className:"w-4 h-4"}),e.jsx("span",{children:"You're offline - some features may be limited"})]})})})},Je=()=>{const{user:s}=I();return s?s.isAdmin?e.jsx(Fe,{}):e.jsx(Le,{}):e.jsx(Me,{})};function Ye(){return e.jsx(oe,{children:e.jsx(Te,{children:e.jsxs(Ie,{children:[e.jsx(ze,{}),e.jsx(Je,{}),e.jsx(He,{})]})})})}H.createRoot(document.getElementById("root")).render(e.jsx(F.StrictMode,{children:e.jsx(Ye,{})}));
